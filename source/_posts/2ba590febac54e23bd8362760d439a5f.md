---
layout: post
title: ç®¡ç† Linux ç”¨æˆ·é…ç½®ï¼ˆç‚¹æ–‡ä»¶ï¼‰çš„æœ€å¥½æ–¹å¼
abbrlink: 2ba590febac54e23bd8362760d439a5f
tags:
  - linux
  - dotfiles
categories:
  - ğŸ“æŠ€æœ¯æ‚è°ˆ
date: 1675693320000
updated: 1675693320000
---
## å‰è¨€

ä½œä¸ºä¸€ä¸ª Linux Userï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ç§¯æ”’äº†ä¸€å¤§å †è‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ï¼Œæ¯æ¬¡é‡è£…ç³»ç»Ÿæˆ–åœ¨å…¶ä»–è®¾å¤‡åˆå§‹åŒ–å·¥ä½œç¯å¢ƒæ—¶éƒ½è¦ä¸€ä¸ªä¸€ä¸ªåœ°æ‹·è´å®ƒä»¬ï¼Œè¿™å¤ªä¸ä¼˜é›…äº†ï¼æˆ‘å¾—æƒ³ä¸ªåŠæ³•ä¼˜åŒ–ä»¥ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚ç»è¿‡æœç´¢ï¼Œæˆ‘æ‰¾åˆ°äº†ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š

1. [ã€è¯‘ã€‘ä½¿ç”¨ GNU stow ç®¡ç†ä½ çš„ç‚¹æ–‡ä»¶](https://farseerfc.me/zhs/using-gnu-stow-to-manage-your-dotfiles.html)
2. [How to Store Dotfiles - A Bare Git Repository](https://www.atlassian.com/git/tutorials/dotfiles)
3. [chezmoi: Manage your dotfiles across multiple diverse machines, securely.](https://github.com/twpayne/chezmoi)

ç»è¿‡è¯•ç”¨/å¯¹æ¯”ï¼Œæˆ‘æœ€ç»ˆé€‰ç”¨äº†ç¬¬äºŒä¸ªé“¾æ¥å†…æåˆ°çš„æ–¹æ³•ï¼Œå³ä½¿ç”¨ Bare Git Repository æ–¹å¼ç®¡ç†ã€‚å¾—ç›Šäº Git çš„å¼ºå¤§åŠŸèƒ½ï¼Œè¿™ç§æ–¹å¼ä¸»è¦å¯ä»¥åšåˆ°ä»¥ä¸‹åŠŸèƒ½ï¼š

* ç‰ˆæœ¬ç®¡ç†
* ç›‘æµ‹é…ç½®æ›´æ”¹
* å¤šè®¾å¤‡åŒæ­¥

è¿™æ˜¯[æˆ‘çš„ dotfiles ä»“åº“](https://github.com/waleslau/dotfiles)ï¼Œä½¿ç”¨æ–¹å¼è¯¦è§ [README.md](https://github.com/waleslau/dotfiles/blob/main/README.md)ï¼Œç”±äºä¸‹é¢æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°

åæ¥æˆ‘åˆå‘ç°äº†ä¸€ä¸ªå·¥å…·ï¼š[yadm](https://github.com/TheLocehiliosan/yadm)ï¼Œè¿™ä¸ªå·¥å…·ä¹Ÿæ˜¯åŸºäº Bare Git Repository è®¾è®¡çš„ï¼Œå¹¶ä¸”å¤šäº†[å‘½ä»¤è¡¥å…¨](https://github.com/TheLocehiliosan/yadm/tree/master/completion)ä»¥åŠé…ç½®æ–‡ä»¶åŠ å¯†ç­‰åŠŸèƒ½ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘åŸæ¥çš„æ–¹æ³•å»ºç«‹çš„ä»“åº“å’Œæœ¬å·¥å…·æ˜¯å®Œå…¨å…¼å®¹çš„

## å®‰è£…

å¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å·¥å…·å®‰è£… `yadm`ï¼Œå¦‚æœå‘è¡Œç‰ˆä»“åº“é‡Œæ²¡æœ‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä» Github ä»“åº“ä¸‹è½½ï¼ˆè¿™ä¸ªä¸œè¥¿æœ¬è´¨ä¸Šå…¶å®å°±æ˜¯ä¸€ä¸ª shell è„šæœ¬ï¼‰

```bash
mkdir -p ~/.local/bin
curl https://fastly.jsdelivr.net/gh/TheLocehiliosan/yadm@master/yadm -o ~/.local/bin/yadm
chmod +x ~/.local/bin/yadm
```

## ä½¿ç”¨

```bash
# åˆå§‹åŒ–ä¸€ä¸ªæ–°ä»“åº“
yadm init

# å…‹éš†ç°æœ‰ä»“åº“
yadm clone <url>

# å¢æ·»æ–‡ä»¶/æ›´æ”¹
yadm add <important file>
yadm commit

# åŠ å¯†å­˜å‚¨ ssh å¯†é’¥ï¼Œä»¥å®‰å…¨åœ°åŒæ­¥å®ƒ
echo '.ssh/id_rsa' > ~/.config/yadm/encrypt
yadm encrypt

# å¯ä»¥åœ¨åŒæ­¥æœ¬ä»“åº“åˆ°å…¶ä»–è®¾å¤‡åï¼Œè§£å¯†sshå¯†é’¥
yadm decrypt

# ä¸ºLinuxä¸MacOSåˆ›å»ºä¸åŒçš„æ–‡ä»¶
yadm add path/file.cfg##os.Linux
yadm add path/file.cfg##os.Darwin
```
