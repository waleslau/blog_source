---
layout: post
title: ä½¿ç”¨ nvm å¿«é€Ÿå®‰è£…å’Œä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ node
abbrlink: 510ae53b6f6e4379a6ee784c0bbe3231
tags:
  - node
  - npm
categories:
  - ğŸ“æ‚è°ˆ
date: 1650631560000
updated: 1675692000000
---
> 2023 å¹´ 2 æœˆ 6 æ—¥æ›´æ–°ï¼š

æ€»æ„Ÿè§‰ nvm è½½å…¥æœ‰ç‚¹æ…¢ï¼Œç›®å‰åˆ‡æ¢åˆ°äº† [nvs](https://github.com/jasongin/nvs)ï¼Œç”¨æ³•ç±»ä¼¼ï¼Œè½½å…¥é€Ÿåº¦ç¨å¿«ä¸€äº›

å®‰è£…ä½¿ç”¨ä¸€æŠŠæ¢­ï¼š

```bash
export NVS_HOME="$HOME/.local/share/nvs"
git clone https://github.com/jasongin/nvs "$NVS_HOME"
\. "$NVS_HOME/nvs.sh" install
nvs add lts
nvs use lts
nvs link lts
```

---

`nvm` çš„å…¨åæ˜¯ Node Version Manager[^1]ï¼Œæ˜¯ä¸€ä¸ª node.js çš„ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·é€šè¿‡å‘½ä»¤è¡Œå¿«é€Ÿå®‰è£…å’Œä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ nodeã€‚nvm å¯ä»¥åœ¨ä»»ä½•å…¼å®¹ POSIX çš„ shellï¼ˆshã€dashã€kshã€zshã€bashï¼‰ä¸Šå·¥ä½œï¼Œå°¤å…¶æ˜¯åœ¨ unixã€macOS å’Œ windows WSLã€‚

## å®‰è£…

```bash
curl -o- https://cdn.jsdelivr.net/gh/nvm-sh/nvm/install.sh | bash
```

è¯·åœ¨å®‰è£…åæ‰§è¡Œä¸€ä¸‹ `nvm` æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼Œè¯¥å®‰è£…è„šæœ¬ä¼šå°è¯•è‡ªåŠ¨å¤„ç† `~/.bashrc`ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ° `nvm` å‘½ä»¤ï¼Œå¯ä»¥æ‰‹åŠ¨åœ¨ shell çš„ç”¨æˆ·é…ç½®æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆ`zsh` å¯¹åº”çš„æ˜¯ `~/.zshrc`ï¼Œå…¶ä»– shell è¯·è‡ªè¡ŒæŸ¥è¯¢ç”¨æˆ·é…ç½®ä½ç½®ï¼‰

```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
```

## é¦–æ¬¡ä½¿ç”¨

```bash
nvm install --lts # ä¸‹è½½æœ€æ–°çš„LTSç‰ˆæœ¬
```

ç„¶åæ£€æŸ¥ä¸€ä¸‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ

```bash
$ which npm
/home/idea/.nvm/versions/node/v16.14.2/bin/npm
$ which node
/home/idea/.nvm/versions/node/v16.14.2/bin/node
```

## æ›´æ”¹ npmmirror ä¸­å›½é•œåƒç«™

```bash
npm config set registry https://registry.npmmirror.com
```

æ›´å¤šä½¿ç”¨å§¿åŠ¿è¯·è‡ªè¡Œæœç´¢

[^1]: [https://github.com/nvm-sh/nvm](https://github.com/nvm-sh/nvm)
