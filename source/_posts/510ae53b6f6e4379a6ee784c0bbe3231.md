---
layout: post
title: 使用 nvm 快速安装和使用不同版本的 node
abbrlink: 510ae53b6f6e4379a6ee784c0bbe3231
tags:
  - node
  - npm
date: 1650631560000
updated: 1671541380000
---

`nvm`的全名是 Node Version Manager[^1]，是一个 node.js 的版本管理器，可以帮助用户通过命令行快速安装和使用不同版本的 node。nvm 可以在任何兼容 POSIX 的 shell（sh、dash、ksh、zsh、bash）上工作，尤其是在 unix、macOS 和 windows WSL。

## 安装

```bash
curl -o- https://cdn.jsdelivr.net/gh/nvm-sh/nvm/install.sh | bash
```

请在安装后执行一下`nvm`检查是否成功，该安装脚本会尝试自动处理 `~/.bashrc`，如果没有找到`nvm`命令，可以手动在 shell 的用户配置文件添加如下内容（`zsh`对应的是`~/.zshrc`，其他 shell 请自行查询用户配置位置）

```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
```

## 简单使用

```bash
nvm install --lts # 下载最新的LTS版本
nvm use --lts # 使用最新的LTS版本
nvm alias default v16.14.2 # 设置最新的LTS版本为默认（此时最新的LTS版本为v16.14.2）
```

然后检查一下配置是否生效

```bash
$ which npm
/home/idea/.nvm/versions/node/v16.14.2/bin/npm
$ which node
/home/idea/.nvm/versions/node/v16.14.2/bin/node
```

## 更改 npmmirror 中国镜像站

```bash
npm config set registry https://registry.npmmirror.com
```

更多使用姿势请自行搜索

[^1]: <https://github.com/nvm-sh/nvm>
