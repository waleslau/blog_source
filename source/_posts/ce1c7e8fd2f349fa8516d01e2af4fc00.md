---
layout: post
title: linux ä¸Šå‡ ç§ç¡çœ æ¨¡å¼æ¯”è¾ƒ
abbrlink: ce1c7e8fd2f349fa8516d01e2af4fc00
tags:
  - linux
categories:
  - ðŸ“Linux
date: 1670672789090
updated: 1671350378831
---
```bash
systemctl suspend                 -- Suspend the system
systemctl hibernate     -- Hibernate the system
systemctl suspend-then-hibernate  -- Suspend the system for a period of time, and then hibernate it
systemctl hybrid-sleep  -- Hibernate and suspend the system
```

## suspend

æ™®é€šçš„æŒ‚èµ·ï¼ˆæˆ–è€…è¯´ç¡çœ ï¼‰ï¼Œæœºå™¨èƒ½ä»¥æœ€å¿«çš„é€Ÿåº¦è¢«å”¤é†’ã€‚ä¸å»ºè®®åœ¨ç¬”è®°æœ¬ä¸æ’ç”µæ—¶ä½¿ç”¨ï¼Œå®¹æ˜“ç¡æ­»(ç”µæ± è€—å°½åŽä¸¢å¤±å·¥ä½œçŠ¶æ€)ã€‚

## hibernate

æ™®é€šçš„ä¼‘çœ ï¼Œçº¦ç­‰äºŽå®Œå…¨å…³æœºï¼Œä½†ä¼šä¿ç•™ä¸Šæ¬¡çš„å†…å­˜çŠ¶æ€åˆ°ç¡¬ç›˜å†…ï¼Œå”¤é†’åŽå†æ¢å¤ã€‚é€Ÿåº¦ç¨æ…¢ï¼Œå¥½å¤„æ˜¯ä¸ç”¨æ‹…å¿ƒç¡æ­»ï¼ˆæ¯•ç«Ÿå·²ç»â€œå®Œå…¨å…³æœºâ€äº†:joy\_cat:ï¼‰ã€‚

## suspend-then-hibernate

å…ˆæŒ‚èµ·ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åŽç³»ç»Ÿè‡ªåŠ¨å”¤é†’å¹¶æ‰§è¡Œä¼‘çœ æ“ä½œã€‚

ä½†é»˜è®¤çš„ç­‰å¾…æ—¶é—´ä¸€èˆ¬éƒ½æ¯”è¾ƒé•¿ï¼Œï¼ˆæ–‡æ¡£é‡Œè¯´æ˜¯ 120minï¼Œ`/etc/systemd/sleep.conf` é‡Œçš„é»˜è®¤é…ç½®å†™çš„æ˜¯ 180minï¼‰ï¼Œç”µæ± ä¸ç»™åŠ›çš„è¯ï¼Œä»æœ‰ç¡æ­»çš„é£Žé™©ï¼Œå¦‚ä½¿ç”¨æ­¤æ¨¡å¼å»ºè®®æ ¹æ®ç¬”è®°æœ¬æƒ…å†µä»¥åŠè‡ªå·±çš„éœ€æ±‚è®¾å®šä¸€ä¸ªè¾ƒçŸ­çš„æ—¶é—´ã€‚

## hybrid-sleep

æ··åˆç¡çœ ï¼Œsuspend çš„åŒæ—¶ä¹ŸæŠŠå†…å­˜çŠ¶æ€å¤‡ä»½åˆ°ç¡¬ç›˜ï¼Œç¡çœ é€Ÿåº¦æ¯” suspend ç¨æ…¢ï¼Œå”¤é†’é€Ÿåº¦å¤§å·®ä¸å·®ï¼Œå¯ä»¥é˜²æ­¢ç¡æ­»ã€‚

æˆ‘èµ·åˆä»¥ä¸ºå®ƒçš„æ•ˆæžœåªæ˜¯ suspend çš„åŒæ—¶ä¹ŸæŠŠå†…å­˜çŠ¶æ€å¤‡ä»½åˆ°ç¡¬ç›˜ä»¥é¿å…ç¡æ­»ï¼Œä½†åœ¨å®žé™…ä½¿ç”¨æ—¶å‘çŽ°æˆ‘çš„ç¬”è®°æœ¬åœ¨ suspend æ—¶ä»ä¼šå‘çƒ­ï¼ˆè€Œä¸”å‘çƒ­é‡å¾ˆå¯è§‚ï¼Œå‡ ä¹Žæ¯”çœç”µæ¨¡å¼ä¸‹ç©ºè½½è¿˜çƒ­äº†ï¼Œè€—ç”µä¼°è®¡ä¹Ÿå°ä¸äº†ï¼‰ï¼Œä½† hybrid-sleep æ—¶å‡ ä¹Žæ²¡æœ‰å‘çƒ­ï¼Œæˆ‘è§‰å¾—å®ƒåº”è¯¥åšäº†æ›´å¤šçš„å¤„ç†ã€‚ä¸æŽ’é™¤ suspend åœ¨æˆ‘çš„æœ¬å­ä¸Šæ²¡æœ‰æ­£å¸¸å·¥ä½œè¿™ä¸ªå¯èƒ½

> æˆ‘å‘çŽ°æˆ‘çš„ç¬”è®°æœ¬åœ¨ suspend æ—¶ä»ä¼šå‘çƒ­ï¼ˆè€Œä¸”å‘çƒ­é‡å¾ˆå¯è§‚ï¼Œå‡ ä¹Žæ¯”çœç”µæ¨¡å¼ä¸‹ç©ºè½½è¿˜çƒ­äº†ï¼Œè€—ç”µä¼°è®¡ä¹Ÿå°ä¸äº†ï¼‰ï¼Œä½† hybrid-sleep æ—¶å‡ ä¹Žæ²¡æœ‰å‘çƒ­ï¼ˆå’Œåœ¨ Windows 11 ä¸‹ç¡çœ çš„è¡¨çŽ°å·®ä¸å¤šï¼‰ã€‚
> suspend æ˜¯æ™®é€šçš„æŒ‚èµ·ï¼Œhybrid-sleep æ˜¯æ··åˆç¡çœ ï¼Œä»Žæ–‡æ¡£é‡Œçš„çš„ä»‹ç»æ¥çœ‹æ··åˆç¡çœ åªæ˜¯æ¯”æ™®é€šçš„æŒ‚èµ·å¤šäº†ä¸ªä¿å­˜å†…å­˜çŠ¶æ€åˆ°ç¡¬ç›˜çš„æ“ä½œï¼ŒæŒ‰ç†è¯´å®ƒä¿©çš„åŠŸè€—è¡¨çŽ°åº”è¯¥æ˜¯ä¸€æ ·çš„å•Šï¼Œæ˜¯ hybrid-sleep åœ¨æŽ§åˆ¶åŠŸè€—æ–¹é¢åšäº†æ›´å¤šçš„å¤„ç†ï¼Œè¿˜æ˜¯ suspend åœ¨æˆ‘çš„æœ¬å­ä¸Šæ²¡æœ‰æ­£å¸¸å·¥ä½œå‘¢ï¼Ÿ
> [https://forum.suse.org.cn/t/topic/15224](https://forum.suse.org.cn/t/topic/15224)

## è§£å†³

```bash
# /etc/systemd/sleep.conf
[Sleep]
#AllowSuspend=yes
#AllowHibernation=yes
#AllowSuspendThenHibernate=yes
#AllowHybridSleep=yes
#SuspendMode=
#SuspendState=mem standby freeze
#HibernateMode=platform shutdown
#HibernateState=disk
#HybridSleepMode=suspend platform shutdown
#HybridSleepState=disk
#HibernateDelaySec=180min

# Disable useless items
AllowHibernation=no
AllowSuspendThenHibernate=no
# Configure suspend as hybrid-sleep
SuspendMode=suspend platform shutdown
SuspendState=disk
```
